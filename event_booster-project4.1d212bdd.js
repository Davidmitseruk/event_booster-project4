!function(){var e,n,t,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},s=a.parcelRequire42eb;function i(e,n){return Math.random()*(n-e)+e}function c(e,n,t,a,r,o,s){try{var i=e[o](s),c=i.value}catch(e){t(e);return}i.done?n(c):Promise.resolve(c).then(a,r)}function l(e){return function(){var n=this,t=arguments;return new Promise(function(a,r){var o=e.apply(n,t);function s(e){c(o,a,r,s,i,"next",e)}function i(e){c(o,a,r,s,i,"throw",e)}s(void 0)})}}function d(e,n){var t,a,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(c){var l=[i,c];if(t)throw TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(o=0)),o;)try{if(t=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,a=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],a=0}finally{t=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}null==s&&((s=function(e){if(e in r)return r[e].exports;if(e in o){var n=o[e];delete o[e];var t={id:e,exports:{}};return r[e]=t,n.call(t.exports,t,t.exports),t.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){o[e]=n},a.parcelRequire42eb=s),s.register,Object.assign(s.i??={},{kxKJ3:"symbol-defs.c5b0f01c.svg"}),document.querySelectorAll(".star").forEach(function(e,n){e.style.left="".concat(i(0,100),"%"),e.style.top="".concat(i(0,100),"%");var t=i(2,4);e.style.width="".concat(t,"px"),e.style.height="".concat(t,"px"),e.style.animationDelay="".concat(.5*n,"s")}),"function"==typeof SuppressedError&&SuppressedError;var u="https://app.ticketmaster.com/discovery/v2/events.json?apikey=".concat("ketKoDmJUHl7Ak2zwntgxzeJRJUvRMXS","&size=").concat(20),m=1,p=[],h=1,v={itemsContainer:document.querySelector(".hero__list"),paginationContainer:document.getElementById("hero__pagination")},_=Handlebars.compile("\n      {{#each items}}\n        <li class='hero__item'  data-id=\"{{id}}\">\n          <div class='hero__img-wrap'>\n            <img src=\"{{image.url}}\" alt=\"{{name}}\" class=\"hero__img-teg\" />\n          </div>\n          <h2 class='hero__name'>{{name}}</h2>\n          <p class='hero__date'>{{date}}</p>\n          <span class='hero__place'>\n            <svg class='hero__place-icon' width='7' height='10'>\n              <use href='#'></use>\n            </svg>\n            {{place}}\n          </span>\n        </li>\n      {{/each}}\n");function f(e){return g.apply(this,arguments)}function g(){return(g=l(function(e){var n,t;return d(this,function(a){switch(a.label){case 0:if(a.trys.push([0,5,,6]),51==e)return[3,3];return[4,fetch("".concat(u,"&page=").concat(e-1))];case 1:return(t=a.sent()).ok||console.error("Помилка API"),[4,t.json()];case 2:var r;if(!(p=(null==(n=a.sent()._embedded)?void 0:n.events)||[]).length)return v.itemsContainer.innerHTML='<p class="hero__message >Event not found</p>',v.paginationContainer.innerHTML="",[2];return r=_({items:p.map(function(e){var n,t,a,r,o,s=e.images||[],i=s.find(function(e){return"16_9"===e.ratio&&e.width>300})||s[0];return{id:e.id,name:e.name||"Без назви",date:(null==(t=e.dates)||null==(n=t.start)?void 0:n.localDate)||"Дата не вказана",place:(null==(o=e._embedded)||null==(r=o.venues)||null==(a=r[0])?void 0:a.name)||"Місце не вказане",image:{url:i?i.url:"#"}}})}),v.itemsContainer.innerHTML=r,y(),[3,4];case 3:v.itemsContainer.innerHTML='<p class="hero__message">No more events now</p>',y(),a.label=4;case 4:return[3,6];case 5:return console.error("Помилка:",a.sent()),v.itemsContainer.innerHTML='<p class="hero__message >Error loading events</p>',[3,6];case 6:return[2]}})})).apply(this,arguments)}function y(){var e=function(e){var o=document.createElement("button");o.classList.add("hero__btn"),o.textContent=e,e===m?o.classList.add("hero__btn-active"):o.classList.remove("hero__btn-active"),o.addEventListener("click",function(){f(m=e),e===a+t&&e<51-t?h=Math.min(h+1,51-n+1):e===a+t-1&&a>1?h=Math.max(1,a-1):e===r&&e<51?h=e:e===a&&a>1&&(h=Math.max(1,e-n+1)),y()}),v.paginationContainer.appendChild(o)};v.paginationContainer.innerHTML="";for(var n=5,t=Math.floor(2.5),a=h,r=Math.min(a+5-1,51),o=a;o<=r;o++)e(o);if(r<51){var s=document.createElement("span");s.classList.add("hero__dots"),s.textContent="...",v.paginationContainer.appendChild(s);var i=document.createElement("button");i.classList.add("hero__btn"),i.textContent=51,51===m?i.classList.add("hero__btn-active"):i.classList.remove("hero__btn-active"),i.addEventListener("click",function(){m=51,h=Math.max(1,51-n+1),f(m)}),v.paginationContainer.appendChild(i)}}function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}"use strict";f(m);var L=document.querySelector(".header__search"),w=document.querySelector("#hero__items");function k(){return(k=l(function(e){var n,t,a,r,o,s,i;return d(this,function(c){switch(c.label){case 0:n=[],t=0,a=1,c.label=1;case 1:c.trys.push([1,6,,7]),c.label=2;case 2:if(!(t<a))return[3,5];return[4,fetch("".concat("https://app.ticketmaster.com/discovery/v2/events.json?apikey=L7VlP0GtWQZMHhIkOqz3A3FcxX8k8AWD","&keyword=").concat(e,"&size=20&page=").concat(t))];case 3:return[4,c.sent().json()];case 4:return i=(null==(o=(s=c.sent())._embedded)?void 0:o.events)||[],(r=n).push.apply(r,function(e){if(Array.isArray(e))return b(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,n){if(e){if("string"==typeof e)return b(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,void 0)}}(i)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=s.page.totalPages,t++,[3,2];case 5:return[3,7];case 6:return console.log(c.sent()),[3,7];case 7:return[2,n]}})})).apply(this,arguments)}function E(){return(E=l(function(e){var n;return d(this,function(t){switch(t.label){case 0:return[4,function(e){return k.apply(this,arguments)}(e)];case 1:var a;if(0===(n=t.sent().filter(function(n){return n.name.toLowerCase().includes(e.toLowerCase())})).length)return w.innerHTML="<h2>There are no such events</h2>",[2];return a=n.slice(0,20),w.innerHTML=Handlebars.compile("\n      <div class='hero__template' >\n        <ul class='hero__list'>\n          {{#each this}}\n            <li class='hero__item' data-id=\"{{id}}\">\n              <div class='hero__img-wrap'>\n                  <img src=\"{{images.0.url}}\" alt=\"{{name}}\" class=\"hero__img-teg\"/>\n              </div>\n              <h2 class='hero__name'>{{name}}</h2>\n              <p class='hero__date'>{{dates.start.localDate}}</p>\n              <span class='hero__place'>\n                <svg class='hero__place-icon' width='7' height='10'>\n                  <use href='#'></use>\n                </svg>\n                {{_embedded.venues.0.name}}\n              </span>\n            </li>\n          {{/each}}\n        </ul>\n      </div>\n    ")(a),[2]}})})).apply(this,arguments)}L.addEventListener("input",function(e){e.preventDefault(),clearTimeout(n),n=setTimeout(l(function(){return d(this,function(e){switch(e.label){case 0:return[4,function(e){return E.apply(this,arguments)}(L.value.trim())];case 1:return e.sent(),[2]}})}),500)});var S=document.getElementById("themeToggle");S.addEventListener("click",function(){document.body.classList.toggle("light-theme");var e=document.querySelector(".header__btn-text");document.body.classList.contains("light-theme")?(e.textContent="WHITE THEME",S.classList.add("header__btn-light"),S.classList.remove("header__btn-dark")):(e.textContent="BLACK THEME",S.classList.add("header__btn-dark"),S.classList.remove("header__btn-light"))}),window.addEventListener("scroll",function(){var e=document.getElementById("backToTop");window.scrollY>window.innerHeight/2?e.classList.add("visible"):e.classList.remove("visible")}),document.getElementById("backToTop").addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});var T={openModalBtn:document.querySelector("[data-signIn-open]"),closeModalBtn:document.querySelector("[data-signIn-close]"),modal:document.querySelector("[data-signIn]")};function M(){T.modal.classList.toggle("is-hidden"),document.body.classList.toggle("no-scroll")}T.openModalBtn.addEventListener("click",function(e){e.preventDefault(),M()}),T.closeModalBtn.addEventListener("click",M);var x={openModalBtn:document.querySelector("[data-signUp-open]"),closeModalBtn:document.querySelector("[data-signUp-close]"),modal:document.querySelector("[data-signUp]")};function A(){x.modal.classList.toggle("is-hidden"),document.body.classList.toggle("no-scroll")}"use strict";"use strict";x.openModalBtn.addEventListener("click",A),x.closeModalBtn.addEventListener("click",A);var C=document.querySelector(".signIn__btn-eye"),H=document.querySelector(".signIn__eye use"),q=document.querySelector("#signIn-password"),I=!1;C.addEventListener("click",function(){I?(H.setAttribute("href","".concat({},"#icon-closed-eye-icon")),q.type="password",I=!1):(H.setAttribute("href","".concat({},"#icon-open-eye-icon")),q.type="text",I=!0)});var U=document.querySelector("#eye-password"),D=document.querySelector("#eye-pass use"),j=document.querySelector("#signUp-password"),B=!1;U.addEventListener("click",function(e){e.preventDefault(),B?(D.setAttribute("href","".concat({},"#icon-closed-eye-icon")),j.type="password",B=!1):(D.setAttribute("href","".concat({},"#icon-open-eye-icon")),j.type="text",B=!0),j.focus()});var R=document.querySelector("#eye-confirm"),O=document.querySelector("#eye-conf use"),N=document.querySelector("#signUp-confirm"),P=!1;R.addEventListener("click",function(e){e.preventDefault(),P?(O.setAttribute("href","".concat({},"#icon-closed-eye-icon")),N.type="password",P=!1):(O.setAttribute("href","".concat({},"#icon-open-eye-icon")),N.type="text",P=!0),N.focus()});var z=document.querySelector(".header__country"),F=document.querySelector("#hero__items");function J(){return(J=l(function(e){return d(this,function(n){return e?fetch("".concat("https://app.ticketmaster.com/discovery/v2/events.json?apikey=VkBEt0fFcAqySchZPLKAbH98ntFa7ext","&size=20&page=").concat(0,"&countryCode=").concat(e.toUpperCase())).then(function(e){return e.json()}).then(function(e){var n,t=(null==(n=e._embedded)?void 0:n.events)||[];if(0===t.length){F.innerHTML="<li>Подій не знайдено.</li>";return}F.innerHTML=t.map(function(e){return"\n        <div class='hero__template'>\n          <ul class='hero__list'>\n            <li class='hero__item' data-id=\"".concat(e.id,"\">\n              <div class='hero__img-wrap'>\n                <img src=\"").concat(e.images[0].url,'" alt="').concat(e.name,'" class="hero__img-teg"/>\n              </div>\n              <h2 class=\'hero__name\'>').concat(e.name,"</h2>\n              <p class='hero__date'>").concat(e.dates.start.localDate,"</p>\n              <span class='hero__place'>\n                <svg class='hero__place-icon' width='7' height='10'>\n                  <use href='#'></use>\n                </svg>\n                ").concat(e._embedded.venues[0].name,"\n              </span>\n            </li>\n          </ul>\n        </div>\n      ")}).join("")}).catch(function(e){console.error("Помилка при завантаженні подій:",e),F.innerHTML="<li>Не вдалося знайти події.</li>"}):F.innerHTML="<li>Введіть код країни.</li>",[2]})})).apply(this,arguments)}z.addEventListener("input",function(e){clearTimeout(t),t=setTimeout(l(function(){return d(this,function(e){switch(e.label){case 0:return[4,function(e){return J.apply(this,arguments)}(z.value.trim())];case 1:return e.sent(),[2]}})}),500)});var K=".json?apikey=".concat("ketKoDmJUHl7Ak2zwntgxzeJRJUvRMXS"),W={backdrop:document.querySelector(".backdrop__poster"),dataCards:document.querySelector(".hero__list"),modalContainer:document.querySelector(".modal-container")},V=Handlebars.compile("<div class='backdrop__poster is-hidden'>\n  <div class='modal__poster'>\n    <button class=\"modal__btn-close\">\n      <svg class=\"modal__close-icon\">\n        <use href=\"../src/images/symbol-defs.svg#icon-close-icon\"></use>\n      </svg>\n    </button>\n    <img src='{{image}}' alt='Poster Image' class='modal__poster-small' />\n    <div class=\"modal__main-wrap\">\n        <div class='modal__poster-img'>\n          <img src='{{image}}' alt='Poster Image' class='modal__poster-big' />\n        </div>\n          <div class='modal__wrap'>\n            <div class='modal__block'>\n                <h2 class='modal__title'>INFO</h2>\n                <p class='modal__text'>{{info}}</p>\n            </div>\n            <div class='modal__block'>\n                <h2 class='modal__title'>WHEN</h2>\n                <p class='modal__text'>{{date}}<br />{{time}}\n                {{location}}</p>\n            </div>\n            <div class='modal__block'>\n                <h2 class='modal__title'>WHERE</h2>\n                <p class='modal__text'>{{city}},\n                {{country}}<br />{{venue}}</p>\n            </div>\n            <div class='modal__block'>\n                <h2 class='modal__title'>WHO</h2>\n                <p class='modal__text'>{{artists}}</p>\n            </div>\n            <div class='modal__block'>\n                <h2 class='modal__title'>PRICES</h2>\n                <p class='modal__text'><svg class=\"modal__icon\">\n                  <use href=\"/src/images/symbol-defs.svg#icon-ticket1icon\"></use>\n                </svg> {{priceStandard}}</p>\n                <button class=\"modal__poster-btn\">BUY TICKETS</button>\n                <p class='modal__text'><svg class=\"modal__icon\">\n                  <use href=\"/src/images/symbol-defs.svg#icon-ticket1icon\"></use>\n                </svg> {{priceVIP}}</p>\n                <button class=\"modal__poster-btn\">BUY TICKETS</button>\n            </div>\n         </div>\n    </div>\n    <div class='modal__btn-wrap'>\n        <button class='modal__button'>MORE FROM THIS AUTHOR</button>\n          <button class='modal__button' data-id=\"{{id}}\" id=\"addBtn\">ADD TO FAVOURITE</button>\n     </div>\n  </div>\n</div>");function X(e){return Y.apply(this,arguments)}function Y(){return(Y=l(function(e){var n,t,a,r;return d(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fetch("".concat("https://app.ticketmaster.com/discovery/v2/events","/").concat(e).concat(K))];case 1:return[4,o.sent().json()];case 2:return console.log(n=o.sent()),a=V(t=n?G(n):{}),W.modalContainer.innerHTML=a,(r=document.querySelector(".backdrop__poster")).classList.remove("is-hidden"),r.addEventListener("click",function(e){e.target===r&&(r.classList.add("is-hidden"),W.modalContainer.innerHTML="")}),[2,t];case 3:return console.error(o.sent(),"Error with fetch current id item"),[3,4];case 4:return[2]}})})).apply(this,arguments)}function G(e){var n,t,a,r,o,s,i,c,l,d,u,m,p,h,v,_,f,g,y,b,L,w,k,E,S,T,M;return{id:e.id,image:(null==(t=e.images)||null==(n=t[0])?void 0:n.url)||"",info:(M=e.info,M?(M.match(/[^.!?]+[.!?]+/g)||[M]).slice(0,2).join(" ").trim()||M:"No aleviable"),date:(null==(r=e.dates)||null==(a=r.start)?void 0:a.localDate)||"N/A",time:(null==(s=e.dates)||null==(o=s.start)?void 0:o.localTime)?e.dates.start.localTime.slice(0,5):"N/A",location:(null==(l=e._embedded)||null==(c=l.venues)||null==(i=c[0])?void 0:i.name)||"N/A",city:(null==(p=e._embedded)||null==(m=p.venues)||null==(u=m[0])||null==(d=u.city)?void 0:d.name)||"N/A",country:(null==(f=e._embedded)||null==(_=f.venues)||null==(v=_[0])||null==(h=v.country)?void 0:h.name)||"N/A",venue:(null==(b=e._embedded)||null==(y=b.venues)||null==(g=y[0])?void 0:g.name)||"N/A",artists:(null==(w=e._embedded)||null==(L=w.attractions)?void 0:L.map(function(e){return e.name}).join(", "))||"Unknown artist",priceStandard:(null==(E=e.priceRanges)||null==(k=E[0])?void 0:k.min)?"".concat(e.priceRanges[0].min," USD"):"N/A",priceVIP:(null==(T=e.priceRanges)||null==(S=T[0])?void 0:S.max)?"".concat(e.priceRanges[0].max," USD"):"N/A"}}W.dataCards?W.dataCards.addEventListener("click",(e=l(function(e){var n,t,a;return d(this,function(r){switch(r.label){case 0:if(!(n=e.target.closest(".hero__item")))return[3,2];return[4,X(n.dataset.id)];case 1:var o;r.sent(),t=document.querySelector(".fav__list"),a=[],document.body.addEventListener("click",(o=l(function(e){var n;return d(this,function(r){switch(r.label){case 0:if(!(e.target&&"addBtn"===e.target.id))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),console.log(e.target.dataset.id),[4,X(e.target.dataset.id)];case 2:return console.log(n=G(r.sent())),a.push(n),!function(e){if(0===e.length){t.innerHTML="<li><p>There are not favourites events</p></li>";return}var n=e.filter(function(e){var n,t,a,r,o;return(null==e||null==(t=e.dates)||null==(n=t.start)?void 0:n.localDate)&&(null==e||null==(o=e._embedded)||null==(r=o.venues)||null==(a=r[0])?void 0:a.name)}),a=Handlebars.compile("\n         {{#each this}}\n    <li class='fav__item' data-id=\"{{id}}\">\n      <div class='fav__img-wrap'>\n        <img src=\"{{image}}\" alt=\"{{info}}\" class=\"hero__img-teg\"/>\n      </div>\n      <h2 class='fav__name'>{{info}}</h2>\n      <p class='fav__date'>{{date}}</p>\n      <span class='fav__place'>\n        <svg class='fav__place-icon' width='7' height='10'>\n          <use href='#'></use>\n        </svg>\n        {{venue}}\n      </span>\n    </li>\n  {{/each}}\n  ")(n);t.insertAdjacentHTML("beforeend",a)}(a),[3,4];case 3:return console.log(r.sent()),[3,4];case 4:return[2]}})}),function(e){return o.apply(this,arguments)})),r.label=2;case 2:return[2]}})}),function(n){return e.apply(this,arguments)})):console.error("Element not found")}();
//# sourceMappingURL=event_booster-project4.1d212bdd.js.map
