!function(){function e(e,n,t,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){t(e);return}s.done?n(c):Promise.resolve(c).then(r,a)}"function"==typeof SuppressedError&&SuppressedError;var n="https://app.ticketmaster.com/discovery/v2/events.json?apikey=".concat("ketKoDmJUHl7Ak2zwntgxzeJRJUvRMXS","&size=").concat(20),t=1,r=1,a=[],i=1,o={itemsContainer:document.getElementById("hero__items"),paginationContainer:document.getElementById("hero__pagination")},s=Handlebars.compile("\n  <div class='hero__template'>\n    <ul class='hero__list'>\n      {{#each items}}\n        <li class='hero__item'>\n          <div class='hero__img-wrap'>\n            <picture class='hero__img'>\n              <source srcset=\"{{image.url}} 1x, {{image.url}} 2x\" type=\"image/jpeg\" />\n              <img src=\"{{image.url}}\" alt=\"{{name}}\" />\n            </picture>\n          </div>\n          <h2 class='hero__name'>{{name}}</h2>\n          <p class='hero__date'>{{date}}</p>\n          <span class='hero__place'>\n            <svg class='hero__place-icon' width='7' height='10'>\n              <use href='#'></use>\n            </svg>\n            {{place}}\n          </span>\n        </li>\n      {{/each}}\n    </ul>\n  </div>\n");function c(e){return l.apply(this,arguments)}function l(){var u;return u=function(e){var l,u,p;return function(e,n){var t,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){var l=[s,c];if(t)throw TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=n.call(e,i)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),[4,fetch("".concat(n,"&page=").concat(e-1))];case 1:return(u=d.sent()).ok||console.error("Помилка API"),[4,u.json()];case 2:var h;if(a=(null==(l=(p=d.sent())._embedded)?void 0:l.events)||[],r=p.page.totalPages||1,!a.length)return o.itemsContainer.innerHTML="<p>Події не знайдено</p>",o.paginationContainer.innerHTML="",[2];return h=s({items:a.map(function(e){var n,t,r,a,i,o=e.images||[],s=o.find(function(e){return"16_9"===e.ratio&&e.width>300})||o[0];return{name:e.name||"Без назви",date:(null==(t=e.dates)||null==(n=t.start)?void 0:n.localDate)||"Дата не вказана",place:(null==(i=e._embedded)||null==(a=i.venues)||null==(r=a[0])?void 0:r.name)||"Місце не вказане",image:{url:s?s.url:"#"}}})}),o.itemsContainer.innerHTML=h,function(){var e=function(e){var l=document.createElement("button");l.textContent=e,e===t?l.classList.add("hero__btn-active"):l.classList.remove("hero__btn-active"),l.addEventListener("click",function(){c(t=e),e===s&&s<r?i=Math.min(i+n,r-n+1):e===a&&a>1&&(i=Math.max(1,a-n))}),o.paginationContainer.appendChild(l)};o.paginationContainer.innerHTML="";for(var n=5,a=i,s=Math.min(a+5-1,r),l=a;l<=s;l++)e(l);if(s<r){var u=document.createElement("span");u.classList.add("hero__dots"),u.textContent="...",o.paginationContainer.appendChild(u);var p=document.createElement("button");p.textContent=r,t===r?p.classList.add("hero__btn-active"):p.classList.remove("hero__btn-active"),p.addEventListener("click",function(){t=r,i=Math.max(1,r-n+1),c(t)}),o.paginationContainer.appendChild(p)}}(),[3,4];case 3:return console.error("Помилка:",d.sent()),o.itemsContainer.innerHTML="<p>Помилка завантаження подій</p>",[3,4];case 4:return[2]}})},(l=function(){var n=this,t=arguments;return new Promise(function(r,a){var i=u.apply(n,t);function o(n){e(i,r,a,o,s,"next",n)}function s(n){e(i,r,a,o,s,"throw",n)}o(void 0)})}).apply(this,arguments)}c(t)}();
//# sourceMappingURL=event_booster-project4.a6337b9a.js.map
