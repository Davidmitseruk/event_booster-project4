!function(){var e,t,n,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},s=a.parcelRequire42eb;function i(e,t){return Math.random()*(t-e)+e}function c(e,t,n,a,r,o,s){try{var i=e[o](s),c=i.value}catch(e){n(e);return}i.done?t(c):Promise.resolve(c).then(a,r)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function s(e){c(o,a,r,s,i,"next",e)}function i(e){c(o,a,r,s,i,"throw",e)}s(void 0)})}}function d(e,t){var n,a,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(c){var l=[i,c];if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(o=0)),o;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,a=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}null==s&&((s=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},a.parcelRequire42eb=s),s.register,Object.assign(s.i??={},{kxKJ3:"symbol-defs.c5b0f01c.svg"}),document.querySelectorAll(".star").forEach(function(e,t){e.style.left="".concat(i(0,100),"%"),e.style.top="".concat(i(0,100),"%");var n=i(2,4);e.style.width="".concat(n,"px"),e.style.height="".concat(n,"px"),e.style.animationDelay="".concat(.5*t,"s")}),"function"==typeof SuppressedError&&SuppressedError;var u="https://app.ticketmaster.com/discovery/v2/events.json?apikey=".concat("ketKoDmJUHl7Ak2zwntgxzeJRJUvRMXS","&size=").concat(20),m=1,p=[],h=1,_={itemsContainer:document.querySelector(".hero__list"),paginationContainer:document.getElementById("hero__pagination")},v=Handlebars.compile("\n      {{#each items}}\n        <li class='hero__item'  data-id=\"{{id}}\">\n          <div class='hero__img-wrap'>\n            <img src=\"{{image.url}}\" alt=\"{{name}}\" class=\"hero__img-teg\" />\n          </div>\n          <h2 class='hero__name'>{{name}}</h2>\n          <p class='hero__date'>{{date}}</p>\n          <span class='hero__place'>\n            <svg class='hero__place-icon' width='7' height='10'>\n              <use href='#'></use>\n            </svg>\n            {{place}}\n          </span>\n        </li>\n      {{/each}}\n");function f(e){return g.apply(this,arguments)}function g(){return(g=l(function(e){var t,n;return d(this,function(a){switch(a.label){case 0:if(a.trys.push([0,5,,6]),51==e)return[3,3];return[4,fetch("".concat(u,"&page=").concat(e-1))];case 1:return(n=a.sent()).ok||console.error("Помилка API"),[4,n.json()];case 2:var r;if(!(p=(null==(t=a.sent()._embedded)?void 0:t.events)||[]).length)return _.itemsContainer.innerHTML='<p class="hero__message >Event not found</p>',_.paginationContainer.innerHTML="",[2];return r=v({items:p.map(function(e){var t,n,a,r,o,s=e.images||[],i=s.find(function(e){return"16_9"===e.ratio&&e.width>300})||s[0];return{id:e.id,name:e.name||"Без назви",date:(null==(n=e.dates)||null==(t=n.start)?void 0:t.localDate)||"Дата не вказана",place:(null==(o=e._embedded)||null==(r=o.venues)||null==(a=r[0])?void 0:a.name)||"Місце не вказане",image:{url:i?i.url:"#"}}})}),_.itemsContainer.innerHTML=r,y(),[3,4];case 3:_.itemsContainer.innerHTML='<p class="hero__message">No more events now</p>',y(),a.label=4;case 4:return[3,6];case 5:return console.error("Помилка:",a.sent()),_.itemsContainer.innerHTML='<p class="hero__message >Error loading events</p>',[3,6];case 6:return[2]}})})).apply(this,arguments)}function y(){var e=function(e){var o=document.createElement("button");o.classList.add("hero__btn"),o.textContent=e,e===m?o.classList.add("hero__btn-active"):o.classList.remove("hero__btn-active"),o.addEventListener("click",function(){f(m=e),e===a+n&&e<51-n?h=Math.min(h+1,51-t+1):e===a+n-1&&a>1?h=Math.max(1,a-1):e===r&&e<51?h=e:e===a&&a>1&&(h=Math.max(1,e-t+1)),y()}),_.paginationContainer.appendChild(o)};_.paginationContainer.innerHTML="";for(var t=5,n=Math.floor(2.5),a=h,r=Math.min(a+5-1,51),o=a;o<=r;o++)e(o);if(r<51){var s=document.createElement("span");s.classList.add("hero__dots"),s.textContent="...",_.paginationContainer.appendChild(s);var i=document.createElement("button");i.classList.add("hero__btn"),i.textContent=51,51===m?i.classList.add("hero__btn-active"):i.classList.remove("hero__btn-active"),i.addEventListener("click",function(){m=51,h=Math.max(1,51-t+1),f(m)}),_.paginationContainer.appendChild(i)}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}"use strict";f(m);var L=document.querySelector(".header__search"),k=document.querySelector("#hero__items");function E(){return(E=l(function(e){var t,n,a,r,o,s,i;return d(this,function(c){switch(c.label){case 0:t=[],n=0,a=1,c.label=1;case 1:c.trys.push([1,6,,7]),c.label=2;case 2:if(!(n<a))return[3,5];return[4,fetch("".concat("https://app.ticketmaster.com/discovery/v2/events.json?apikey=L7VlP0GtWQZMHhIkOqz3A3FcxX8k8AWD","&keyword=").concat(e,"&size=20&page=").concat(n))];case 3:return[4,c.sent().json()];case 4:return i=(null==(o=(s=c.sent())._embedded)?void 0:o.events)||[],(r=t).push.apply(r,function(e){if(Array.isArray(e))return b(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return b(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,void 0)}}(i)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=s.page.totalPages,n++,[3,2];case 5:return[3,7];case 6:return console.log(c.sent()),[3,7];case 7:return[2,t]}})})).apply(this,arguments)}function S(){return(S=l(function(e){var t;return d(this,function(n){switch(n.label){case 0:return[4,function(e){return E.apply(this,arguments)}(e)];case 1:var a;if(0===(t=n.sent().filter(function(t){return t.name.toLowerCase().includes(e.toLowerCase())})).length)return k.innerHTML="<h2>There are no such events</h2>",[2];return a=t.slice(0,20),k.innerHTML=Handlebars.compile("\n      <div class='hero__template' >\n        <ul class='hero__list'>\n          {{#each this}}\n            <li class='hero__item' data-id=\"{{id}}\">\n              <div class='hero__img-wrap'>\n                  <img src=\"{{images.0.url}}\" alt=\"{{name}}\" class=\"hero__img-teg\"/>\n              </div>\n              <h2 class='hero__name'>{{name}}</h2>\n              <p class='hero__date'>{{dates.start.localDate}}</p>\n              <span class='hero__place'>\n                <svg class='hero__place-icon' width='7' height='10'>\n                  <use href='#'></use>\n                </svg>\n                {{_embedded.venues.0.name}}\n              </span>\n            </li>\n          {{/each}}\n        </ul>\n      </div>\n    ")(a),[2]}})})).apply(this,arguments)}L.addEventListener("input",function(e){e.preventDefault(),clearTimeout(t),t=setTimeout(l(function(){return d(this,function(e){switch(e.label){case 0:return[4,function(e){return S.apply(this,arguments)}(L.value.trim())];case 1:return e.sent(),[2]}})}),500)});var w=document.getElementById("themeToggle");w.addEventListener("click",function(){document.body.classList.toggle("light-theme");var e=document.querySelector(".header__btn-text");document.body.classList.contains("light-theme")?(e.textContent="WHITE THEME",w.classList.add("header__btn-light"),w.classList.remove("header__btn-dark")):(e.textContent="BLACK THEME",w.classList.add("header__btn-dark"),w.classList.remove("header__btn-light"))}),window.addEventListener("scroll",function(){var e=document.getElementById("backToTop");window.scrollY>window.innerHeight/2?e.classList.add("visible"):e.classList.remove("visible")}),document.getElementById("backToTop").addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});var T={openModalBtn:document.querySelector("[data-signIn-open]"),closeModalBtn:document.querySelector("[data-signIn-close]"),modal:document.querySelector("[data-signIn]")};function M(){T.modal.classList.toggle("is-hidden"),document.body.classList.toggle("no-scroll")}T.openModalBtn.addEventListener("click",function(e){e.preventDefault(),M()}),T.closeModalBtn.addEventListener("click",M);var q={openModalBtn:document.querySelector("[data-signUp-open]"),closeModalBtn:document.querySelector("[data-signUp-close]"),modal:document.querySelector("[data-signUp]")};function x(){q.modal.classList.toggle("is-hidden"),document.body.classList.toggle("no-scroll")}"use strict";"use strict";q.openModalBtn.addEventListener("click",x),q.closeModalBtn.addEventListener("click",x);var C=document.querySelector(".signIn__btn-eye"),A=document.querySelector(".signIn__eye use"),H=document.querySelector("#signIn-password"),I=!1;C.addEventListener("click",function(){I?(A.setAttribute("href","./images/tabler-icon-eye-closed.png"),H.type="password",I=!1):(A.setAttribute("href","./images/tabler-icon-open-eye.png"),H.type="text",I=!0)});var U=document.querySelector("#eye-password"),B=document.querySelector("#eye-pass use"),D=document.querySelector("#signUp-password"),j=!1;U.addEventListener("click",function(e){e.preventDefault(),j?(B.setAttribute("href","./images/tabler-icon-eye-closed.png"),D.type="password",j=!1):(B.setAttribute("href","./images/tabler-icon-open-eye.png"),D.type="text",j=!0),D.focus()});var R=document.querySelector("#eye-confirm"),O=document.querySelector("#eye-conf use"),N=document.querySelector("#signUp-confirm"),P=!1;R.addEventListener("click",function(e){e.preventDefault(),P?(O.setAttribute("href","./images/tabler-icon-eye-closed.png"),N.type="password",P=!1):(O.setAttribute("href","./images/tabler-icon-open-eye.png"),N.type="text",P=!0),N.focus()});var z="https://app.ticketmaster.com/discovery/v2/events.json?apikey=VkBEt0fFcAqySchZPLKAbH98ntFa7ext",F=document.querySelector(".header__country"),J=document.querySelector(".hero__list");function K(){return(K=l(function(e){var t,n,a;return d(this,function(r){switch(r.label){case 0:J.innerHTML="",t=e?"".concat(z,"&size=20&page=0&countryCode=").concat(e.toUpperCase()):"".concat(z,"&size=20&page=0"),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(t)];case 2:return[4,r.sent().json()];case 3:if(0===(a=(null==(n=r.sent()._embedded)?void 0:n.events)||[]).length)return J.innerHTML='<li class="hero__country-message">Подій не знайдено.</li>',[2];return J.innerHTML=a.map(function(e){return"\n          <li class='hero__item' data-id=\"".concat(e.id,"\">\n            <div class='hero__img-wrap'>\n              <img src=\"").concat(e.images[0].url,'" alt="').concat(e.name,'" class="hero__img-teg"/>\n            </div>\n            <h2 class=\'hero__name\'>').concat(e.name,"</h2>\n            <p class='hero__date'>").concat(e.dates.start.localDate,"</p>\n            <span class='hero__place'>\n              <svg class='hero__place-icon' width='7' height='10'>\n                <use href='#'></use>\n              </svg>\n              ").concat(e._embedded.venues[0].name,"\n            </span>\n          </li>\n        ")}).join(""),[3,5];case 4:return console.error("Помилка при завантаженні подій:",r.sent()),J.innerHTML="<li>Не вдалося знайти події.</li>",[3,5];case 5:return[2]}})})).apply(this,arguments)}F.addEventListener("input",function(e){clearTimeout(n),n=setTimeout(l(function(){return d(this,function(e){switch(e.label){case 0:return[4,function(e){return K.apply(this,arguments)}(F.value.trim())];case 1:return e.sent(),[2]}})}),500)});var W=".json?apikey=".concat("ketKoDmJUHl7Ak2zwntgxzeJRJUvRMXS"),V={backdrop:document.querySelector(".backdrop__poster"),dataCards:document.querySelector(".hero__list"),modalContainer:document.querySelector(".modal-container")},X=Handlebars.compile("<div class='backdrop__poster is-hidden'>\n  <div class='modal__poster'>\n    <button class=\"modal__btn-close\">\n      <img href=\"./images/close.png\" alt=\"close\">\n    </button>\n    <img src='{{image}}' alt='Poster Image' class='modal__poster-small' />\n    <div class=\"modal__main-wrap\">\n        <div class='modal__poster-img'>\n          <img src='{{image}}' alt='Poster Image' class='modal__poster-big' />\n        </div>\n          <div class='modal__wrap'>\n            <div class='modal__block'>\n                <h2 class='modal__title'>INFO</h2>\n                <p class='modal__text'>{{info}}</p>\n            </div>\n            <div class='modal__block'>\n                <h2 class='modal__title'>WHEN</h2>\n                <p class='modal__text'>{{date}}<br />{{time}}\n                {{location}}</p>\n            </div>\n            <div class='modal__block'>\n                <h2 class='modal__title'>WHERE</h2>\n                <p class='modal__text'>{{city}},\n                {{country}}<br />{{venue}}</p>\n            </div>\n            <div class='modal__block'>\n                <h2 class='modal__title'>WHO</h2>\n                <p class='modal__text'>{{artists}}</p>\n            </div>\n            <div class='modal__block'>\n                <h2 class='modal__title'>PRICES</h2>\n                <p class='modal__text'><img class=\"modal__icon\" href=\"/images/ticket1.png\" alt=\"tickets\"> {{priceStandard}}</p>\n                <button class=\"modal__poster-btn\">BUY TICKETS</button>\n                <p class='modal__text'><img class=\"modal__icon\" href=\"/images/ticket1.png\" alt=\"tickets\"> {{priceVIP}}</p>\n                <button class=\"modal__poster-btn\">BUY TICKETS</button>\n            </div>\n            <div class='modal__btn-wrap'>\n              <button class='modal__button'>MORE FROM THIS AUTHOR</button>\n              <button class='modal__button' data-id=\"{{id}}\" id=\"addBtn\">ADD TO FAVOURITE</button>\n            </div>\n         </div>\n    </div>\n  </div>\n</div>");function Y(){return(Y=l(function(e){var t,n,a,r,o;return d(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fetch("".concat("https://app.ticketmaster.com/discovery/v2/events","/").concat(e).concat(W))];case 1:return[4,s.sent().json()];case 2:return console.log(t=s.sent()),a=X(n=t?function(e){var t,n,a,r,o,s,i,c,l,d,u,m,p,h,_,v,f,g,y,b,L,k,E,S,w,T,M;return{id:e.id,image:(null==(n=e.images)||null==(t=n[0])?void 0:t.url)||"",info:(M=e.info,M?(M.match(/[^.!?]+[.!?]+/g)||[M]).slice(0,2).join(" ").trim()||M:"No aleviable"),date:(null==(r=e.dates)||null==(a=r.start)?void 0:a.localDate)||"N/A",time:(null==(s=e.dates)||null==(o=s.start)?void 0:o.localTime)?e.dates.start.localTime.slice(0,5):"N/A",location:(null==(l=e._embedded)||null==(c=l.venues)||null==(i=c[0])?void 0:i.name)||"N/A",city:(null==(p=e._embedded)||null==(m=p.venues)||null==(u=m[0])||null==(d=u.city)?void 0:d.name)||"N/A",country:(null==(f=e._embedded)||null==(v=f.venues)||null==(_=v[0])||null==(h=_.country)?void 0:h.name)||"N/A",venue:(null==(b=e._embedded)||null==(y=b.venues)||null==(g=y[0])?void 0:g.name)||"N/A",artists:(null==(k=e._embedded)||null==(L=k.attractions)?void 0:L.map(function(e){return e.name}).join(", "))||"Unknown artist",priceStandard:(null==(S=e.priceRanges)||null==(E=S[0])?void 0:E.min)?"".concat(e.priceRanges[0].min," USD"):"50 USD",priceVIP:(null==(T=e.priceRanges)||null==(w=T[0])?void 0:w.max)?"".concat(e.priceRanges[0].max," USD"):"70 USD"}}(t):{}),V.modalContainer.innerHTML=a,r=document.querySelector(".backdrop__poster"),o=document.querySelector(".modal__btn-close"),r.classList.remove("is-hidden"),o.addEventListener("click",function(){r.classList.add("is-hidden"),V.modalContainer.innerHTML=""}),r.addEventListener("click",function(e){e.target===r&&(r.classList.add("is-hidden"),V.modalContainer.innerHTML="")}),[2,n];case 3:return console.error(s.sent(),"Error with fetch current id item"),[3,4];case 4:return[2]}})})).apply(this,arguments)}V.dataCards?V.dataCards.addEventListener("click",(e=l(function(e){var t;return d(this,function(n){switch(n.label){case 0:if(!(t=e.target.closest(".hero__item")))return[3,2];return[4,function(e){return Y.apply(this,arguments)}(t.dataset.id)];case 1:n.sent(),n.label=2;case 2:return[2]}})}),function(t){return e.apply(this,arguments)})):console.error("Element not found");var G=document.querySelectorAll(".footer__team-nav-btn"),Z=document.querySelectorAll(".footer__team-item"),Q={openModalBtn:document.querySelector("[data-team-open]"),closeModalBtn:document.querySelector(".footer__close-team-modal"),modal:document.querySelector("[data-team]")};function $(){Q.modal.classList.toggle("is-hidden"),document.body.classList.toggle("no-scroll")}function ee(e){Z.forEach(function(e){e.classList.add("hide")});var t=document.querySelector(".footer__team-item:nth-child(".concat(e,")"));t&&t.classList.remove("hide")}Q.openModalBtn.addEventListener("click",function(e){$(),ee(1)}),Q.closeModalBtn.addEventListener("click",$),G.forEach(function(e){e.addEventListener("click",function(e){ee(parseInt(e.target.id)),G.forEach(function(e){return e.classList.remove("footer__btn-active")}),e.target.classList.add("footer__btn-active")})})}();
//# sourceMappingURL=event_booster-project4.cc53976a.js.map
