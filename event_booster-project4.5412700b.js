!function(){function t(t,n){return Math.random()*(n-t)+t}function n(t,n,r,o,a,s,i){try{var c=t[s](i),l=c.value}catch(t){r(t);return}c.done?n(l):Promise.resolve(l).then(o,a)}function r(t){return function(){var r=this,o=arguments;return new Promise(function(a,s){var i=t.apply(r,o);function c(t){n(i,a,s,c,l,"next",t)}function l(t){n(i,a,s,c,l,"throw",t)}c(void 0)})}}function o(t,n){var r,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(l){var u=[c,l];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(s=0)),s;)try{if(r=1,o&&(a=2&u[0]?o.return:u[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,u[1])).done)return a;switch(o=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,o=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){s=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){s.label=u[1];break}if(6===u[0]&&s.label<a[1]){s.label=a[1],a=u;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(u);break}a[2]&&s.ops.pop(),s.trys.pop();continue}u=n.call(t,s)}catch(t){u=[6,t],o=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}document.querySelectorAll(".star").forEach(function(n,r){n.style.left="".concat(t(0,100),"%"),n.style.top="".concat(t(0,100),"%");var o=t(2,4);n.style.width="".concat(o,"px"),n.style.height="".concat(o,"px"),n.style.animationDelay="".concat(.5*r,"s")}),"function"==typeof SuppressedError&&SuppressedError;var a,s,i="https://app.ticketmaster.com/discovery/v2/events.json?apikey=".concat("ketKoDmJUHl7Ak2zwntgxzeJRJUvRMXS","&size=").concat(20),c=1,l=[],u=1,d={itemsContainer:document.getElementById("hero__items"),paginationContainer:document.getElementById("hero__pagination")},h=Handlebars.compile("\n  <div class='hero__template'>\n    <ul class='hero__list'>\n      {{#each items}}\n        <li class='hero__item'  data-id=\"{{id}}\">\n          <div class='hero__img-wrap'>\n            <img src=\"{{image.url}}\" alt=\"{{name}}\" class=\"hero__img-teg\" />\n          </div>\n          <h2 class='hero__name'>{{name}}</h2>\n          <p class='hero__date'>{{date}}</p>\n          <span class='hero__place'>\n            <svg class='hero__place-icon' width='7' height='10'>\n              <use href='#'></use>\n            </svg>\n            {{place}}\n          </span>\n        </li>\n      {{/each}}\n    </ul>\n  </div>\n");function m(t){return p.apply(this,arguments)}function p(){return(p=r(function(t){var n,r;return o(this,function(o){switch(o.label){case 0:if(o.trys.push([0,5,,6]),51==t)return[3,3];return[4,fetch("".concat(i,"&page=").concat(t-1))];case 1:return(r=o.sent()).ok||console.error("Помилка API"),[4,r.json()];case 2:var a;if(!(l=(null==(n=o.sent()._embedded)?void 0:n.events)||[]).length)return d.itemsContainer.innerHTML='<p class="hero__message >Event not found</p>',d.paginationContainer.innerHTML="",[2];return a=h({items:l.map(function(t){var n,r,o,a,s,i=t.images||[],c=i.find(function(t){return"16_9"===t.ratio&&t.width>300})||i[0];return{id:t.id,name:t.name||"Без назви",date:(null==(r=t.dates)||null==(n=r.start)?void 0:n.localDate)||"Дата не вказана",place:(null==(s=t._embedded)||null==(a=s.venues)||null==(o=a[0])?void 0:o.name)||"Місце не вказане",image:{url:c?c.url:"#"}}})}),d.itemsContainer.innerHTML=a,f(),[3,4];case 3:d.itemsContainer.innerHTML='<p class="hero__message">No more events now</p>',f(),o.label=4;case 4:return[3,6];case 5:return console.error("Помилка:",o.sent()),d.itemsContainer.innerHTML='<p class="hero__message >Error loading events</p>',[3,6];case 6:return[2]}})})).apply(this,arguments)}function f(){var t=function(t){var s=document.createElement("button");s.classList.add("hero__btn"),s.textContent=t,t===c?s.classList.add("hero__btn-active"):s.classList.remove("hero__btn-active"),s.addEventListener("click",function(){m(c=t),t===o+r&&t<51-r?u=Math.min(u+1,51-n+1):t===o+r-1&&o>1?u=Math.max(1,o-1):t===a&&t<51?u=t:t===o&&o>1&&(u=Math.max(1,t-n+1)),f()}),d.paginationContainer.appendChild(s)};d.paginationContainer.innerHTML="";for(var n=5,r=Math.floor(2.5),o=u,a=Math.min(o+5-1,51),s=o;s<=a;s++)t(s);if(a<51){var i=document.createElement("span");i.classList.add("hero__dots"),i.textContent="...",d.paginationContainer.appendChild(i);var l=document.createElement("button");l.classList.add("hero__btn"),l.textContent=51,51===c?l.classList.add("hero__btn-active"):l.classList.remove("hero__btn-active"),l.addEventListener("click",function(){c=51,u=Math.max(1,51-n+1),m(c)}),d.paginationContainer.appendChild(l)}}function v(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,o=Array(n);r<n;r++)o[r]=t[r];return o}"use strict";m(c);var y=document.querySelector(".header__search"),_=document.querySelector("#hero__items");function g(){return(g=r(function(t){var n,r,a,s,i,c,l;return o(this,function(o){switch(o.label){case 0:n=[],r=0,a=1,o.label=1;case 1:o.trys.push([1,6,,7]),o.label=2;case 2:if(!(r<a))return[3,5];return[4,fetch("".concat("https://app.ticketmaster.com/discovery/v2/events.json?apikey=L7VlP0GtWQZMHhIkOqz3A3FcxX8k8AWD","&keyword=").concat(t,"&size=20&page=").concat(r))];case 3:return[4,o.sent().json()];case 4:return l=(null==(i=(c=o.sent())._embedded)?void 0:i.events)||[],(s=n).push.apply(s,function(t){if(Array.isArray(t))return v(t)}(l)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(l)||function(t,n){if(t){if("string"==typeof t)return v(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(t,void 0)}}(l)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=c.page.totalPages,r++,[3,2];case 5:return[3,7];case 6:return console.log(o.sent()),[3,7];case 7:return[2,n]}})})).apply(this,arguments)}function b(){return(b=r(function(t){var n;return o(this,function(r){switch(r.label){case 0:return[4,function(t){return g.apply(this,arguments)}(t)];case 1:var o;if(0===(n=r.sent().filter(function(n){return n.name.toLowerCase().includes(t.toLowerCase())})).length)return _.innerHTML="<h2>There are no such events</h2>",[2];return o=n.slice(0,20),_.innerHTML=Handlebars.compile("\n      <div class='hero__template' >\n        <ul class='hero__list'>\n          {{#each this}}\n            <li class='hero__item' data-id=\"{{id}}\">\n              <div class='hero__img-wrap'>\n                  <img src=\"{{images.0.url}}\" alt=\"{{name}}\" class=\"hero__img-teg\"/>\n              </div>\n              <h2 class='hero__name'>{{name}}</h2>\n              <p class='hero__date'>{{dates.start.localDate}}</p>\n              <span class='hero__place'>\n                <svg class='hero__place-icon' width='7' height='10'>\n                  <use href='#'></use>\n                </svg>\n                {{_embedded.venues.0.name}}\n              </span>\n            </li>\n          {{/each}}\n        </ul>\n      </div>\n    ")(o),[2]}})})).apply(this,arguments)}y.addEventListener("input",function(t){t.preventDefault(),clearTimeout(a),a=setTimeout(r(function(){return o(this,function(t){switch(t.label){case 0:return[4,function(t){return b.apply(this,arguments)}(y.value.trim())];case 1:return t.sent(),[2]}})}),500)});var L=document.getElementById("themeToggle");L.addEventListener("click",function(){document.body.classList.toggle("light-theme");var t=document.querySelector(".header__btn-text");document.body.classList.contains("light-theme")?(t.textContent="WHITE THEME",L.classList.add("header__btn-light"),L.classList.remove("header__btn-dark")):(t.textContent="BLACK THEME",L.classList.add("header__btn-dark"),L.classList.remove("header__btn-light"))}),window.addEventListener("scroll",function(){var t=document.getElementById("backToTop");window.scrollY>window.innerHeight/2?t.classList.add("visible"):t.classList.remove("visible")}),document.getElementById("backToTop").addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});var w={openModalBtn:document.querySelector("[data-signIn-open]"),closeModalBtn:document.querySelector("[data-signIn-close]"),modal:document.querySelector("[data-signIn]")};function E(){w.modal.classList.toggle("is-hidden"),document.body.classList.toggle("no-scroll")}w.openModalBtn.addEventListener("click",function(t){t.preventDefault(),E()}),w.closeModalBtn.addEventListener("click",E);var k={openModalBtn:document.querySelector("[data-signUp-open]"),closeModalBtn:document.querySelector("[data-signUp-close]"),modal:document.querySelector("[data-signUp]")};function S(){k.modal.classList.toggle("is-hidden"),document.body.classList.toggle("no-scroll")}"use strict";"use strict";k.openModalBtn.addEventListener("click",S),k.closeModalBtn.addEventListener("click",S);var M=document.querySelector(".signIn__btn-eye"),T=document.querySelector(".signIn__eye use"),C=document.querySelector("#signIn-password"),q=!1;M.addEventListener("click",function(){q?(T.setAttribute("href","./images/symbol-defs.svg#icon-closed-eye-icon"),C.type="password",q=!1):(T.setAttribute("href","./images/symbol-defs.svg#icon-open-eye-icon"),C.type="text",q=!0)});var x=document.querySelector("#eye-password"),A=document.querySelector("#eye-pass use"),H=document.querySelector("#signUp-password"),I=!1;x.addEventListener("click",function(t){t.preventDefault(),I?(A.setAttribute("href","./images/symbol-defs.svg#icon-closed-eye-icon"),H.type="password",I=!1):(A.setAttribute("href","./images/symbol-defs.svg#icon-open-eye-icon"),H.type="text",I=!0)});var B=document.querySelector("#eye-confirm"),j=document.querySelector("#eye-conf use"),D=document.querySelector("#signUp-confirm"),U=!1;B.addEventListener("click",function(t){t.preventDefault(),U?(j.setAttribute("href","./images/symbol-defs.svg#icon-closed-eye-icon"),D.type="password",U=!1):(j.setAttribute("href","./images/symbol-defs.svg#icon-open-eye-icon"),D.type="text",U=!0)});var z=document.querySelector(".header__country"),P=document.querySelector("#hero__items");function O(){return(O=r(function(t){return o(this,function(t){return fetch("".concat("https://app.ticketmaster.com/discovery/v2/events.json?apikey=VkBEt0fFcAqySchZPLKAbH98ntFa7ext","&size=20&page=").concat(0)).then(function(t){return t.json()}).then(function(t){var n;P.innerHTML=((null==(n=t._embedded)?void 0:n.events)||[]).map(function(t){return"\n        <div class='hero__template' >\n        <ul class='hero__list'>\n          {{#each this}}\n            <li class='hero__item' data-id=\"{{id}}\">\n              <div class='hero__img-wrap'>\n                  <img src=\"{{images.0.url}}\" alt=\"{{name}}\" class=\"hero__img-teg\"/>\n              </div>\n              <h2 class='hero__name'>{{name}}</h2>\n              <p class='hero__date'>{{dates.start.localDate}}</p>\n              <span class='hero__place'>\n                <svg class='hero__place-icon' width='7' height='10'>\n                  <use href='#'></use>\n                </svg>\n                {{_embedded.venues.0.name}}\n              </span>\n            </li>\n          {{/each}}\n        </ul>\n      </div>\n      "}).join("")}).catch(function(t){console.error("Помилка при завантаженні подій:",t),P.innerHTML="<li>Не вдалося знайти події.</li>"}),[2]})})).apply(this,arguments)}z.addEventListener("input",function(){if(e.preventDefault(),clearTimeout(s),s=setTimeout(r(function(){return o(this,function(t){switch(t.label){case 0:return[4,function(t){return O.apply(this,arguments)}(z.value.trim())];case 1:return t.sent(),[2]}})}),500),!z.value.toLowerCase().trim())return})}();
//# sourceMappingURL=event_booster-project4.5412700b.js.map
