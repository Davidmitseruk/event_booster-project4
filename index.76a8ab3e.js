let e=1,n=1,t=[],a=1;const i={itemsContainer:document.getElementById("hero__items"),paginationContainer:document.getElementById("hero__pagination")},o=Handlebars.compile("\n  <div class='hero__template'>\n    <ul class='hero__list'>\n      {{#each items}}\n        <li class='hero__item'>\n          <div class='hero__img-wrap'>\n            <picture class='hero__img'>\n              <source srcset=\"{{image.url}} 1x, {{image.url}} 2x\" type=\"image/jpeg\" />\n              <img src=\"{{image.url}}\" alt=\"{{name}}\" />\n            </picture>\n          </div>\n          <h2 class='hero__name'>{{name}}</h2>\n          <p class='hero__date'>{{date}}</p>\n          <span class='hero__place'>\n            <svg class='hero__place-icon' width='7' height='10'>\n              <use href='#'></use>\n            </svg>\n            {{place}}\n          </span>\n        </li>\n      {{/each}}\n    </ul>\n  </div>\n");async function s(r){try{var c;const l=await fetch("https://app.ticketmaster.com/discovery/v2/events.json?apikey=ketKoDmJUHl7Ak2zwntgxzeJRJUvRMXS&size=20&page="+(r-1));l.ok||console.error("Помилка API");const d=await l.json();if(t=(null===(c=d._embedded)||void 0===c?void 0:c.events)||[],n=d.page.totalPages||1,!t.length)return i.itemsContainer.innerHTML="<p>Події не знайдено</p>",void(i.paginationContainer.innerHTML="");!function(){const e=t.map((e=>{var n,t,a,i,o;const s=e.images||[],r=s.find((e=>"16_9"===e.ratio&&e.width>300))||s[0];return{name:e.name||"Без назви",date:(null===(n=e.dates)||void 0===n||null===(t=n.start)||void 0===t?void 0:t.localDate)||"Дата не вказана",place:(null===(a=e._embedded)||void 0===a||null===(i=a.venues)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.name)||"Місце не вказане",image:{url:r?r.url:"#"}}})),n=o({items:e});i.itemsContainer.innerHTML=n}(),function(){i.paginationContainer.innerHTML="";const t=5;let o=a,r=Math.min(o+t-1,n);for(let c=o;c<=r;c++){const l=document.createElement("button");l.textContent=c,c===e?l.classList.add("hero__btn-active"):l.classList.remove("hero__btn-active"),l.addEventListener("click",(()=>{e=c,s(e),c===r&&r<n?a=Math.min(a+t,n-t+1):c===o&&o>1&&(a=Math.max(1,o-t))})),i.paginationContainer.appendChild(l)}if(r<n){const o=document.createElement("span");o.classList.add("hero__dots"),o.textContent="...",i.paginationContainer.appendChild(o);const r=document.createElement("button");r.textContent=n,e===n?r.classList.add("hero__btn-active"):r.classList.remove("hero__btn-active"),r.addEventListener("click",(()=>{e=n,a=Math.max(1,n-t+1),s(e)})),i.paginationContainer.appendChild(r)}}()}catch(e){console.error("Помилка:",e),i.itemsContainer.innerHTML="<p>Помилка завантаження подій</p>"}}s(e);
//# sourceMappingURL=index.76a8ab3e.js.map
