!function(){function e(e,t){return Math.random()*(t-e)+e}function t(e,t,n,r,o,a,s){try{var i=e[a](s),c=i.value}catch(e){n(e);return}i.done?t(c):Promise.resolve(c).then(r,o)}function n(e){return function(){var n=this,r=arguments;return new Promise(function(o,a){var s=e.apply(n,r);function i(e){t(s,o,a,i,c,"next",e)}function c(e){t(s,o,a,i,c,"throw",e)}i(void 0)})}}function r(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(c){var l=[i,c];if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}document.querySelectorAll(".star").forEach(function(t,n){t.style.left="".concat(e(0,100),"%"),t.style.top="".concat(e(0,100),"%");var r=e(2,4);t.style.width="".concat(r,"px"),t.style.height="".concat(r,"px"),t.style.animationDelay="".concat(.5*n,"s")}),"function"==typeof SuppressedError&&SuppressedError;var o,a="https://app.ticketmaster.com/discovery/v2/events.json?apikey=".concat("ketKoDmJUHl7Ak2zwntgxzeJRJUvRMXS","&size=").concat(20),s=1,i=[],c=1,l={itemsContainer:document.getElementById("hero__items"),paginationContainer:document.getElementById("hero__pagination")},u=Handlebars.compile("\n  <div class='hero__template'>\n    <ul class='hero__list'>\n      {{#each items}}\n        <li class='hero__item'  data-id=\"{{id}}\">\n          <div class='hero__img-wrap'>\n            <img src=\"{{image.url}}\" alt=\"{{name}}\" class=\"hero__img-teg\" />\n          </div>\n          <h2 class='hero__name'>{{name}}</h2>\n          <p class='hero__date'>{{date}}</p>\n          <span class='hero__place'>\n            <svg class='hero__place-icon' width='7' height='10'>\n              <use href='#'></use>\n            </svg>\n            {{place}}\n          </span>\n        </li>\n      {{/each}}\n    </ul>\n  </div>\n");function d(e){return m.apply(this,arguments)}function m(){return(m=n(function(e){var t,n;return r(this,function(r){switch(r.label){case 0:if(r.trys.push([0,5,,6]),51==e)return[3,3];return[4,fetch("".concat(a,"&page=").concat(e-1))];case 1:return(n=r.sent()).ok||console.error("Помилка API"),[4,n.json()];case 2:var o;if(!(i=(null==(t=r.sent()._embedded)?void 0:t.events)||[]).length)return l.itemsContainer.innerHTML='<p class="hero__message >Event not found</p>',l.paginationContainer.innerHTML="",[2];return o=u({items:i.map(function(e){var t,n,r,o,a,s=e.images||[],i=s.find(function(e){return"16_9"===e.ratio&&e.width>300})||s[0];return{id:e.id,name:e.name||"Без назви",date:(null==(n=e.dates)||null==(t=n.start)?void 0:t.localDate)||"Дата не вказана",place:(null==(a=e._embedded)||null==(o=a.venues)||null==(r=o[0])?void 0:r.name)||"Місце не вказане",image:{url:i?i.url:"#"}}})}),l.itemsContainer.innerHTML=o,p(),[3,4];case 3:l.itemsContainer.innerHTML='<p class="hero__message">No more events now</p>',p(),r.label=4;case 4:return[3,6];case 5:return console.error("Помилка:",r.sent()),l.itemsContainer.innerHTML='<p class="hero__message >Error loading events</p>',[3,6];case 6:return[2]}})})).apply(this,arguments)}function p(){var e=function(e){var a=document.createElement("button");a.classList.add("hero__btn"),a.textContent=e,e===s?a.classList.add("hero__btn-active"):a.classList.remove("hero__btn-active"),a.addEventListener("click",function(){d(s=e),e===r+n&&e<51-n?c=Math.min(c+1,51-t+1):e===r+n-1&&r>1?c=Math.max(1,r-1):e===o&&e<51?c=e:e===r&&r>1&&(c=Math.max(1,e-t+1)),p()}),l.paginationContainer.appendChild(a)};l.paginationContainer.innerHTML="";for(var t=5,n=Math.floor(2.5),r=c,o=Math.min(r+5-1,51),a=r;a<=o;a++)e(a);if(o<51){var i=document.createElement("span");i.classList.add("hero__dots"),i.textContent="...",l.paginationContainer.appendChild(i);var u=document.createElement("button");u.classList.add("hero__btn"),u.textContent=51,51===s?u.classList.add("hero__btn-active"):u.classList.remove("hero__btn-active"),u.addEventListener("click",function(){s=51,c=Math.max(1,51-t+1),d(s)}),l.paginationContainer.appendChild(u)}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}"use strict";d(s);var f=document.querySelector(".header__search"),v=document.querySelector("#hero__items");function y(){return(y=n(function(e){var t,n,o,a,s,i,c;return r(this,function(r){switch(r.label){case 0:t=[],n=0,o=1,r.label=1;case 1:r.trys.push([1,6,,7]),r.label=2;case 2:if(!(n<o))return[3,5];return[4,fetch("".concat("https://app.ticketmaster.com/discovery/v2/events.json?apikey=L7VlP0GtWQZMHhIkOqz3A3FcxX8k8AWD","&keyword=").concat(e,"&size=20&page=").concat(n))];case 3:return[4,r.sent().json()];case 4:return c=(null==(s=(i=r.sent())._embedded)?void 0:s.events)||[],(a=t).push.apply(a,function(e){if(Array.isArray(e))return h(e)}(c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,t){if(e){if("string"==typeof e)return h(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,void 0)}}(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i.page.totalPages,n++,[3,2];case 5:return[3,7];case 6:return console.log(r.sent()),[3,7];case 7:return[2,t]}})})).apply(this,arguments)}function g(){return(g=n(function(e){var t;return r(this,function(n){switch(n.label){case 0:return[4,function(e){return y.apply(this,arguments)}(e)];case 1:var r;if(0===(t=n.sent().filter(function(t){return t.name.toLowerCase().includes(e.toLowerCase())})).length)return v.innerHTML="<h2>There are no such events</h2>",[2];return r=t.slice(0,20),v.innerHTML=Handlebars.compile("\n      <div class='hero__template' >\n        <ul class='hero__list'>\n          {{#each this}}\n            <li class='hero__item' data-id=\"{{id}}\">\n              <div class='hero__img-wrap'>\n                  <img src=\"{{images.0.url}}\" alt=\"{{name}}\" class=\"hero__img-teg\"/>\n              </div>\n              <h2 class='hero__name'>{{name}}</h2>\n              <p class='hero__date'>{{dates.start.localDate}}</p>\n              <span class='hero__place'>\n                <svg class='hero__place-icon' width='7' height='10'>\n                  <use href='#'></use>\n                </svg>\n                {{_embedded.venues.0.name}}\n              </span>\n            </li>\n          {{/each}}\n        </ul>\n      </div>\n    ")(r),[2]}})})).apply(this,arguments)}f.addEventListener("input",function(e){e.preventDefault(),clearTimeout(o),o=setTimeout(n(function(){return r(this,function(e){switch(e.label){case 0:return[4,function(e){return g.apply(this,arguments)}(f.value.trim())];case 1:return e.sent(),[2]}})}),500)});var _=document.getElementById("themeToggle");_.addEventListener("click",function(){document.body.classList.toggle("light-theme");var e=document.querySelector(".header__btn-text");document.body.classList.contains("light-theme")?(e.textContent="WHITE THEME",_.classList.add("header__btn-light"),_.classList.remove("header__btn-dark")):(e.textContent="BLACK THEME",_.classList.add("header__btn-dark"),_.classList.remove("header__btn-light"))}),window.addEventListener("scroll",function(){var e=document.getElementById("backToTop");window.scrollY>window.innerHeight/2?e.classList.add("visible"):e.classList.remove("visible")}),document.getElementById("backToTop").addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});var b={openModalBtn:document.querySelector("[data-signIn-open]"),closeModalBtn:document.querySelector("[data-signIn-close]"),modal:document.querySelector("[data-signIn]")};function L(){b.modal.classList.toggle("is-hidden"),document.body.classList.toggle("no-scroll")}b.openModalBtn.addEventListener("click",function(e){e.preventDefault(),L()}),b.closeModalBtn.addEventListener("click",L);var w={openModalBtn:document.querySelector("[data-signUp-open]"),closeModalBtn:document.querySelector("[data-signUp-close]"),modal:document.querySelector("[data-signUp]")};function E(){w.modal.classList.toggle("is-hidden"),document.body.classList.toggle("no-scroll")}"use strict";"use strict";w.openModalBtn.addEventListener("click",E),w.closeModalBtn.addEventListener("click",E);var k=document.querySelector(".signIn__btn-eye"),S=document.querySelector(".signIn__eye use"),M=document.querySelector("#signIn-password"),C=!1;k.addEventListener("click",function(){C?(S.setAttribute("href","./images/symbol-defs.svg#icon-closed-eye-icon"),M.type="password",C=!1):(S.setAttribute("href","./images/symbol-defs.svg#icon-open-eye-icon"),M.type="text",C=!0)});var T=document.querySelector("#eye-password"),q=document.querySelector("#eye-pass use"),x=document.querySelector("#signUp-password"),A=!1;T.addEventListener("click",function(e){e.preventDefault(),A?(q.setAttribute("href","./images/symbol-defs.svg#icon-closed-eye-icon"),x.type="password",A=!1):(q.setAttribute("href","./images/symbol-defs.svg#icon-open-eye-icon"),x.type="text",A=!0)});var I=document.querySelector("#eye-confirm"),H=document.querySelector("#eye-conf use"),B=document.querySelector("#signUp-confirm"),j=!1;I.addEventListener("click",function(e){e.preventDefault(),j?(H.setAttribute("href","./images/symbol-defs.svg#icon-closed-eye-icon"),B.type="password",j=!1):(H.setAttribute("href","./images/symbol-defs.svg#icon-open-eye-icon"),B.type="text",j=!0)})}();
//# sourceMappingURL=event_booster-project4.6e691f4f.js.map
