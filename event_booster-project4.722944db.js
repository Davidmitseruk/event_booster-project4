!function(){var n,t,a,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},s={},i=r.parcelRequire42eb;function c(n,t){return Math.random()*(t-n)+n}function l(n,t,a,r,o,s,i){try{var c=n[s](i),l=c.value}catch(n){a(n);return}c.done?t(l):Promise.resolve(l).then(r,o)}function d(n){return function(){var t=this,a=arguments;return new Promise(function(r,o){var s=n.apply(t,a);function i(n){l(s,r,o,i,c,"next",n)}function c(n){l(s,r,o,i,c,"throw",n)}i(void 0)})}}function u(n,t){var a,r,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(l){var d=[c,l];if(a)throw TypeError("Generator is already executing.");for(;i&&(i=0,d[0]&&(s=0)),s;)try{if(a=1,r&&(o=2&d[0]?r.return:d[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,d[1])).done)return o;switch(r=0,o&&(d=[2&d[0],o.value]),d[0]){case 0:case 1:o=d;break;case 4:return s.label++,{value:d[1],done:!1};case 5:s.label++,r=d[1],d=[0];continue;case 7:d=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===d[0]||2===d[0])){s=0;continue}if(3===d[0]&&(!o||d[1]>o[0]&&d[1]<o[3])){s.label=d[1];break}if(6===d[0]&&s.label<o[1]){s.label=o[1],o=d;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(d);break}o[2]&&s.ops.pop(),s.trys.pop();continue}d=t.call(n,s)}catch(n){d=[6,n],r=0}finally{a=o=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}}null==i&&((i=function(n){if(n in o)return o[n].exports;if(n in s){var t=s[n];delete s[n];var a={id:n,exports:{}};return o[n]=a,t.call(a.exports,a,a.exports),a.exports}var r=Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(n,t){s[n]=t},r.parcelRequire42eb=i),i.register,Object.assign(i.i??={},{kxKJ3:"symbol-defs.c5b0f01c.svg"}),document.querySelectorAll(".star").forEach(function(n,t){n.style.left="".concat(c(0,100),"%"),n.style.top="".concat(c(0,100),"%");var a=c(2,4);n.style.width="".concat(a,"px"),n.style.height="".concat(a,"px"),n.style.animationDelay="".concat(.5*t,"s")}),"function"==typeof SuppressedError&&SuppressedError;var m="https://app.ticketmaster.com/discovery/v2/events.json?apikey=".concat("ketKoDmJUHl7Ak2zwntgxzeJRJUvRMXS","&size=").concat(20),p=1,h=[],v=1,_={itemsContainer:document.querySelector(".hero__list"),paginationContainer:document.getElementById("hero__pagination")},f=Handlebars.compile("\n      {{#each items}}\n        <li class='hero__item'  data-id=\"{{id}}\">\n          <div class='hero__img-wrap'>\n            <img src=\"{{image.url}}\" alt=\"{{name}}\" class=\"hero__img-teg\" />\n          </div>\n          <h2 class='hero__name'>{{name}}</h2>\n          <p class='hero__date'>{{date}}</p>\n          <span class='hero__place'>\n            <svg class='hero__place-icon' width='7' height='10'>\n              <use href='#'></use>\n            </svg>\n            {{place}}\n          </span>\n        </li>\n      {{/each}}\n");function g(n){return y.apply(this,arguments)}function y(){return(y=d(function(n){var t,a;return u(this,function(r){switch(r.label){case 0:if(r.trys.push([0,5,,6]),51==n)return[3,3];return[4,fetch("".concat(m,"&page=").concat(n-1))];case 1:return(a=r.sent()).ok||console.error("Помилка API"),[4,a.json()];case 2:var o;if(!(h=(null==(t=r.sent()._embedded)?void 0:t.events)||[]).length)return _.itemsContainer.innerHTML='<p class="hero__message >Event not found</p>',_.paginationContainer.innerHTML="",[2];return o=f({items:h.map(function(n){var t,a,r,o,s,i=n.images||[],c=i.find(function(n){return"16_9"===n.ratio&&n.width>300})||i[0];return{id:n.id,name:n.name||"Без назви",date:(null==(a=n.dates)||null==(t=a.start)?void 0:t.localDate)||"Дата не вказана",place:(null==(s=n._embedded)||null==(o=s.venues)||null==(r=o[0])?void 0:r.name)||"Місце не вказане",image:{url:c?c.url:"#"}}})}),_.itemsContainer.innerHTML=o,b(),[3,4];case 3:_.itemsContainer.innerHTML='<p class="hero__message">No more events now</p>',b(),r.label=4;case 4:return[3,6];case 5:return console.error("Помилка:",r.sent()),_.itemsContainer.innerHTML='<p class="hero__message >Error loading events</p>',[3,6];case 6:return[2]}})})).apply(this,arguments)}function b(){var n=function(n){var s=document.createElement("button");s.classList.add("hero__btn"),s.textContent=n,n===p?s.classList.add("hero__btn-active"):s.classList.remove("hero__btn-active"),s.addEventListener("click",function(){g(p=n),n===r+a&&n<51-a?v=Math.min(v+1,51-t+1):n===r+a-1&&r>1?v=Math.max(1,r-1):n===o&&n<51?v=n:n===r&&r>1&&(v=Math.max(1,n-t+1)),b()}),_.paginationContainer.appendChild(s)};_.paginationContainer.innerHTML="";for(var t=5,a=Math.floor(2.5),r=v,o=Math.min(r+5-1,51),s=r;s<=o;s++)n(s);if(o<51){var i=document.createElement("span");i.classList.add("hero__dots"),i.textContent="...",_.paginationContainer.appendChild(i);var c=document.createElement("button");c.classList.add("hero__btn"),c.textContent=51,51===p?c.classList.add("hero__btn-active"):c.classList.remove("hero__btn-active"),c.addEventListener("click",function(){p=51,v=Math.max(1,51-t+1),g(p)}),_.paginationContainer.appendChild(c)}}function L(n,t){(null==t||t>n.length)&&(t=n.length);for(var a=0,r=Array(t);a<t;a++)r[a]=n[a];return r}"use strict";g(p);var w=document.querySelector(".header__search"),k=document.querySelector("#hero__items");function E(){return(E=d(function(n){var t,a,r,o,s,i,c;return u(this,function(l){switch(l.label){case 0:t=[],a=0,r=1,l.label=1;case 1:l.trys.push([1,6,,7]),l.label=2;case 2:if(!(a<r))return[3,5];return[4,fetch("".concat("https://app.ticketmaster.com/discovery/v2/events.json?apikey=L7VlP0GtWQZMHhIkOqz3A3FcxX8k8AWD","&keyword=").concat(n,"&size=20&page=").concat(a))];case 3:return[4,l.sent().json()];case 4:return c=(null==(s=(i=l.sent())._embedded)?void 0:s.events)||[],(o=t).push.apply(o,function(n){if(Array.isArray(n))return L(n)}(c)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(c)||function(n,t){if(n){if("string"==typeof n)return L(n,void 0);var a=Object.prototype.toString.call(n).slice(8,-1);if("Object"===a&&n.constructor&&(a=n.constructor.name),"Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L(n,void 0)}}(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=i.page.totalPages,a++,[3,2];case 5:return[3,7];case 6:return console.log(l.sent()),[3,7];case 7:return[2,t]}})})).apply(this,arguments)}function S(){return(S=d(function(n){var t;return u(this,function(a){switch(a.label){case 0:return[4,function(n){return E.apply(this,arguments)}(n)];case 1:var r;if(0===(t=a.sent().filter(function(t){return t.name.toLowerCase().includes(n.toLowerCase())})).length)return k.innerHTML="<h2>There are no such events</h2>",[2];return r=t.slice(0,20),k.innerHTML=Handlebars.compile("\n      <div class='hero__template' >\n        <ul class='hero__list'>\n          {{#each this}}\n            <li class='hero__item' data-id=\"{{id}}\">\n              <div class='hero__img-wrap'>\n                  <img src=\"{{images.0.url}}\" alt=\"{{name}}\" class=\"hero__img-teg\"/>\n              </div>\n              <h2 class='hero__name'>{{name}}</h2>\n              <p class='hero__date'>{{dates.start.localDate}}</p>\n              <span class='hero__place'>\n                <svg class='hero__place-icon' width='7' height='10'>\n                  <use href='#'></use>\n                </svg>\n                {{_embedded.venues.0.name}}\n              </span>\n            </li>\n          {{/each}}\n        </ul>\n      </div>\n    ")(r),[2]}})})).apply(this,arguments)}w.addEventListener("input",function(n){n.preventDefault(),clearTimeout(t),t=setTimeout(d(function(){return u(this,function(n){switch(n.label){case 0:return[4,function(n){return S.apply(this,arguments)}(w.value.trim())];case 1:return n.sent(),[2]}})}),500)});var T=document.getElementById("themeToggle");T.addEventListener("click",function(){document.body.classList.toggle("light-theme");var n=document.querySelector(".header__btn-text");document.body.classList.contains("light-theme")?(n.textContent="WHITE THEME",T.classList.add("header__btn-light"),T.classList.remove("header__btn-dark")):(n.textContent="BLACK THEME",T.classList.add("header__btn-dark"),T.classList.remove("header__btn-light"))}),window.addEventListener("scroll",function(){var n=document.getElementById("backToTop");window.scrollY>window.innerHeight/2?n.classList.add("visible"):n.classList.remove("visible")}),document.getElementById("backToTop").addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});var M={openModalBtn:document.querySelector("[data-signIn-open]"),closeModalBtn:document.querySelector("[data-signIn-close]"),modal:document.querySelector("[data-signIn]")};function x(){M.modal.classList.toggle("is-hidden"),document.body.classList.toggle("no-scroll")}M.openModalBtn.addEventListener("click",function(n){n.preventDefault(),x()}),M.closeModalBtn.addEventListener("click",x);var A={openModalBtn:document.querySelector("[data-signUp-open]"),closeModalBtn:document.querySelector("[data-signUp-close]"),modal:document.querySelector("[data-signUp]")};function q(){A.modal.classList.toggle("is-hidden"),document.body.classList.toggle("no-scroll")}"use strict";"use strict";A.openModalBtn.addEventListener("click",q),A.closeModalBtn.addEventListener("click",q);var C=document.querySelector(".signIn__btn-eye"),H=document.querySelector(".signIn__eye use"),I=document.querySelector("#signIn-password"),B=!1;C.addEventListener("click",function(){B?(H.setAttribute("href","./images/symbol-defs.svg#icon-closed-eye-icon"),I.type="password",B=!1):(H.setAttribute("href","./images/symbol-defs.svg#icon-open-eye-icon"),I.type="text",B=!0)});var D=document.querySelector("#eye-password"),U=document.querySelector("#eye-pass use"),j=document.querySelector("#signUp-password"),R=!1;D.addEventListener("click",function(n){n.preventDefault(),R?(U.setAttribute("href","".concat({},"#icon-closed-eye-icon")),j.type="password",R=!1):(U.setAttribute("href","".concat({},"#icon-open-eye-icon")),j.type="text",R=!0),j.focus()});var O=document.querySelector("#eye-confirm"),N=document.querySelector("#eye-conf use"),P=document.querySelector("#signUp-confirm"),z=!1;O.addEventListener("click",function(n){n.preventDefault(),z?(N.setAttribute("href","./images/symbol-defs.svg#icon-closed-eye-icon"),P.type="password",z=!1):(N.setAttribute("href","./images/symbol-defs.svg#icon-open-eye-icon"),P.type="text",z=!0),P.focus()});var F=".json?apikey=".concat("ketKoDmJUHl7Ak2zwntgxzeJRJUvRMXS"),J={backdrop:document.querySelector(".backdrop__poster"),dataCards:document.querySelector(".hero__list"),modalContainer:document.querySelector(".modal-container")},K=Handlebars.compile("<div class='backdrop__poster is-hidden'>\n  <div class='modal__poster'>\n    <button class=\"modal__btn-close\">\n      <svg class=\"modal__close-icon\">\n        <use href=\"../src/images/symbol-defs.svg#icon-close-icon\"></use>\n      </svg>\n    </button>\n    <img src='{{image}}' alt='Poster Image' class='modal__poster-small' />\n    <div class=\"modal__main-wrap\">\n        <div class='modal__poster-img'>\n          <img src='{{image}}' alt='Poster Image' class='modal__poster-big' />\n        </div>\n          <div class='modal__wrap'>\n            <div class='modal__block'>\n                <h2 class='modal__title'>INFO</h2>\n                <p class='modal__text'>{{info}}</p>\n            </div>\n            <div class='modal__block'>\n                <h2 class='modal__title'>WHEN</h2>\n                <p class='modal__text'>{{date}}<br />{{time}}\n                {{location}}</p>\n            </div>\n            <div class='modal__block'>\n                <h2 class='modal__title'>WHERE</h2>\n                <p class='modal__text'>{{city}},\n                {{country}}<br />{{venue}}</p>\n            </div>\n            <div class='modal__block'>\n                <h2 class='modal__title'>WHO</h2>\n                <p class='modal__text'>{{artists}}</p>\n            </div>\n            <div class='modal__block'>\n                <h2 class='modal__title'>PRICES</h2>\n                <p class='modal__text'><svg class=\"modal__icon\">\n                  <use href=\"/src/images/symbol-defs.svg#icon-ticket1icon\"></use>\n                </svg> {{priceStandard}}</p>\n                <button class=\"modal__poster-btn\">BUY TICKETS</button>\n                <p class='modal__text'><svg class=\"modal__icon\">\n                  <use href=\"/src/images/symbol-defs.svg#icon-ticket1icon\"></use>\n                </svg> {{priceVIP}}</p>\n                <button class=\"modal__poster-btn\">BUY TICKETS</button>\n            </div>\n         </div>\n    </div>\n    <div class='modal__btn-wrap'>\n        <button class='modal__button'>MORE FROM THIS AUTHOR</button>\n          <button class='modal__button' data-id=\"{{id}}\" id=\"addBtn\">ADD TO FAVOURITE</button>\n     </div>\n  </div>\n</div>");function W(n){return V.apply(this,arguments)}function V(){return(V=d(function(n){var t,a,r,o;return u(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fetch("".concat("https://app.ticketmaster.com/discovery/v2/events","/").concat(n).concat(F))];case 1:return[4,s.sent().json()];case 2:return console.log(t=s.sent()),r=K(a=t?X(t):{}),J.modalContainer.innerHTML=r,(o=document.querySelector(".backdrop__poster")).classList.remove("is-hidden"),o.addEventListener("click",function(n){n.target===o&&(o.classList.add("is-hidden"),J.modalContainer.innerHTML="")}),[2,a];case 3:return console.error(s.sent(),"Error with fetch current id item"),[3,4];case 4:return[2]}})})).apply(this,arguments)}function X(n){var t,a,r,o,s,i,c,l,d,u,m,p,h,v,_,f,g,y,b,L,w,k,E,S,T,M,x;return{id:n.id,image:(null==(a=n.images)||null==(t=a[0])?void 0:t.url)||"",info:(x=n.info,(x.match(/[^.!?]+[.!?]+/g)||[x]).slice(0,2).join(" ").trim()||x),date:(null==(o=n.dates)||null==(r=o.start)?void 0:r.localDate)||"N/A",time:(null==(i=n.dates)||null==(s=i.start)?void 0:s.localTime)?n.dates.start.localTime.slice(0,5):"N/A",location:(null==(d=n._embedded)||null==(l=d.venues)||null==(c=l[0])?void 0:c.name)||"N/A",city:(null==(h=n._embedded)||null==(p=h.venues)||null==(m=p[0])||null==(u=m.city)?void 0:u.name)||"N/A",country:(null==(g=n._embedded)||null==(f=g.venues)||null==(_=f[0])||null==(v=_.country)?void 0:v.name)||"N/A",venue:(null==(L=n._embedded)||null==(b=L.venues)||null==(y=b[0])?void 0:y.name)||"N/A",artists:(null==(k=n._embedded)||null==(w=k.attractions)?void 0:w.map(function(n){return n.name}).join(", "))||"Unknown artist",priceStandard:(null==(S=n.priceRanges)||null==(E=S[0])?void 0:E.min)?"".concat(n.priceRanges[0].min," USD"):"N/A",priceVIP:(null==(M=n.priceRanges)||null==(T=M[0])?void 0:T.max)?"".concat(n.priceRanges[0].max," USD"):"N/A"}}J.dataCards?J.dataCards.addEventListener("click",(n=d(function(n){var t,a,r;return u(this,function(o){switch(o.label){case 0:if(!(t=n.target.closest(".hero__item")))return[3,2];return[4,W(t.dataset.id)];case 1:var s;o.sent(),a=document.querySelector(".fav__list"),r=[],document.body.addEventListener("click",(s=d(function(n){var t;return u(this,function(o){switch(o.label){case 0:if(!(n.target&&"addBtn"===n.target.id))return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),console.log(n.target.dataset.id),[4,W(n.target.dataset.id)];case 2:return console.log(t=X(o.sent())),r.push(t),!function(n){if(0===n.length){a.innerHTML="<li><p>There are not favourites events</p></li>";return}var t=n.filter(function(n){var t,a,r,o,s;return(null==n||null==(a=n.dates)||null==(t=a.start)?void 0:t.localDate)&&(null==n||null==(s=n._embedded)||null==(o=s.venues)||null==(r=o[0])?void 0:r.name)}),r=Handlebars.compile("\n         {{#each this}}\n    <li class='fav__item' data-id=\"{{id}}\">\n      <div class='fav__img-wrap'>\n        <img src=\"{{image}}\" alt=\"{{info}}\" class=\"hero__img-teg\"/>\n      </div>\n      <h2 class='fav__name'>{{info}}</h2>\n      <p class='fav__date'>{{date}}</p>\n      <span class='fav__place'>\n        <svg class='fav__place-icon' width='7' height='10'>\n          <use href='#'></use>\n        </svg>\n        {{venue}}\n      </span>\n    </li>\n  {{/each}}\n  ")(t);a.insertAdjacentHTML("beforeend",r)}(r),[3,4];case 3:return console.log(o.sent()),[3,4];case 4:return[2]}})}),function(n){return s.apply(this,arguments)})),o.label=2;case 2:return[2]}})}),function(t){return n.apply(this,arguments)})):console.error("Element not found");var Y=document.querySelector(".header__country"),G=document.querySelector("#hero__items");function Z(){return(Z=d(function(n){return u(this,function(n){return fetch("".concat("https://app.ticketmaster.com/discovery/v2/events.json?apikey=VkBEt0fFcAqySchZPLKAbH98ntFa7ext","&size=20&page=").concat(0)).then(function(n){return n.json()}).then(function(n){var t;G.innerHTML=((null==(t=n._embedded)?void 0:t.events)||[]).map(function(n){return"\n        <div class='hero__template' >\n        <ul class='hero__list'>\n          {{#each this}}\n            <li class='hero__item' data-id=\"{{id}}\">\n              <div class='hero__img-wrap'>\n                  <img src=\"{{images.0.url}}\" alt=\"{{name}}\" class=\"hero__img-teg\"/>\n              </div>\n              <h2 class='hero__name'>{{name}}</h2>\n              <p class='hero__date'>{{dates.start.localDate}}</p>\n              <span class='hero__place'>\n                <svg class='hero__place-icon' width='7' height='10'>\n                  <use href='#'></use>\n                </svg>\n                {{_embedded.venues.0.name}}\n              </span>\n            </li>\n          {{/each}}\n        </ul>\n      </div>\n      "}).join("")}).catch(function(n){console.error("Помилка при завантаженні подій:",n),G.innerHTML="<li>Не вдалося знайти події.</li>"}),[2]})})).apply(this,arguments)}Y.addEventListener("input",function(){if(e.preventDefault(),clearTimeout(a),a=setTimeout(d(function(){return u(this,function(n){switch(n.label){case 0:return[4,function(n){return Z.apply(this,arguments)}(Y.value.trim())];case 1:return n.sent(),[2]}})}),500),!Y.value.toLowerCase().trim())return});var Q={openModalBtn:document.querySelector("[data-header-open]"),closeModalBtn:document.querySelector(".header-modal__backdrop"),modal:document.querySelector("[data-header-body]")};function $(){Q.modal.classList.toggle("header-is-hidden"),document.body.classList.toggle("no-scroll")}Q.openModalBtn.addEventListener("click",function(n){n.preventDefault(),$()}),Q.closeModalBtn.addEventListener("click",$)}();
//# sourceMappingURL=event_booster-project4.722944db.js.map
